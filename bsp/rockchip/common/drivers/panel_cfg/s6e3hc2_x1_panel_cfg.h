/**
  * Copyright (c) 2019 Fuzhou Rockchip Electronics Co., Ltd
  *
  * SPDX-License-Identifier: Apache-2.0
  ******************************************************************************
  * @file    s6e3hc2_x1_panel_cfg.h
  * @version V0.1
  * @brief   display panel config for s6e3hc2 x1
  *
  * Change Logs:
  * Date           Author          Notes
  * 2019-02-20     Huang Jiachai   first implementation
  *
  ******************************************************************************
  */

#ifndef __S6E3HC2_X1_PANEL_CFG_H__
#define __S6E3HC2_X1_PANEL_CFG_H__

#define RT_HW_LCD_XRES                1440     /* LCD PIXEL WIDTH             */
#define RT_HW_LCD_YRES                3120     /* LCD PIXEL HEIGHT            */
#define RT_HW_LCD_PIXEL_CLOCK         280000   /* Pixel clock Khz             */
#define RT_HW_LCD_LANE_MBPS           650      /* DSI per lane Mbps           */
#define RT_HW_LCD_LEFT_MARGIN         8        /* Horizontal back porch       */
#define RT_HW_LCD_RIGHT_MARGIN        16       /* Horizontal front porch      */
#define RT_HW_LCD_UPPER_MARGIN        8        /* Vertical back porch         */
#define RT_HW_LCD_LOWER_MARGIN        4        /* Vertical front porch        */
#define RT_HW_LCD_HSYNC_LEN           8        /* Horizontal synchronization  */
#define RT_HW_LCD_VSYNC_LEN           16        /* Vertical synchronization    */

#define RT_HW_LCD_CONN_TYPE           RK_DISPLAY_CONNECTOR_DSI
#define RT_HW_LCD_BUS_FORMAT          MEDIA_BUS_FMT_RGB888_1X24
#define RT_HW_LCD_DSI_LANES           4
#define RT_HW_LCD_VMODE_FLAG          DSI_CLOCK_NON_CONTINUOUS | VIDEO_MODE_FLAG_NHSYNC | DSC_ENABLE
#define RT_HW_LCD_INIT_CMD_TYPE       CMD_TYPE_DEFAULT
#define RT_HW_LCD_DISPLAY_MODE        DISPLAY_CMD_MODE
#define RT_HW_LCD_AREA_DISPLAY        ENABLE_AREA_DISPLAY
#define RT_HW_LCD_DCS_BACKLIGHT       1
#define RT_HW_LCD_SUPPORT_AOD_MODE    1
#define RT_HW_LCD_MAX_BRIGHTNESS      1023

#define RT_HW_LCD_XACT_ALIGN          720
#define RT_HW_LCD_YACT_ALIGN          195
#define RT_HW_LCD_XPOS_ALIGN          720
#define RT_HW_LCD_YPOS_ALIGN          65

const static struct rockchip_cmd cmd_on[] =
{
    {0x29, 0x10, 0x03, {0xf0, 0x5a, 0x5a}},
    /* Dsc Setting */
    /* Compression Enable */
    {0x07, 0x10, 0x01, {0x01}},
    /* Scaler Disable */
    {0x15, 0x10, 0x02, {0xc3, 0x00}},
    /* PPS Setting */
    {
        0x0a, 0x31, 0x59, {
            0x10, 0x00, 0x00, 0x89, 0x30, 0x80, 0x0c, 0x30,
            0x05, 0xa0, 0x00, 0x41, 0x02, 0xd0, 0x02, 0xd0,
            0x02, 0x00, 0x02, 0xc2, 0x00, 0x20, 0x06, 0x58,
            0x00, 0x0a, 0x00, 0x0f, 0x01, 0xe0, 0x01, 0x2d,
            0x18, 0x00, 0x10, 0xf0, 0x03, 0x0c, 0x20, 0x00,
            0x06, 0x0b, 0x0b, 0x33, 0x0e, 0x1c, 0x2a, 0x38,
            0x46, 0x54, 0x62, 0x69, 0x70, 0x77, 0x79, 0x7b,
            0x7d, 0x7e, 0x01, 0x02, 0x01, 0x00, 0x09, 0x40,
            0x09, 0xbe, 0x19, 0xfc, 0x19, 0xfa, 0x19, 0xf8,
            0x1a, 0x38, 0x1a, 0x78, 0x1a, 0xb6, 0x2a, 0xb6,
            0x2a, 0xf4, 0x2a, 0xf4, 0x4b, 0x34, 0x63, 0x74,
            0x00
        }
    },
    {0x29, 0x10, 0x03, {0xf0, 0xa5, 0xa5}},
    /** Sleep Out */
    {0x05, 0x00, 0x01, {0x11}},
    /* 4. Common Setting */
    /* 4.1 TE(Vync) ON/OFF */
    {0x15, 0x00, 0x02, {0x35, 0x00}},
    /* 4.2 CASET/PASET Setting */
    {0x39, 0x00, 0x05, {0x2a, 0x00, 0x00, 0x05, 0x9F}},
    {0x39, 0x00, 0x05, {0x2b, 0x00, 0x00, 0x0c, 0x2f}},
    /* 4.3 TSP SYNC Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x0a, {0xB9, 0x01, 0xc0, 0x3c, 0x0b, 0x00, 0x00, 0x00, 0x11, 0x03}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* FD(Fast Discharge) Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x45}},
    {0x15, 0x00, 0x02, {0xb5, 0x48}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* 4.6 FFC Setting (MIPI CLK 529MHz) */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x03, {0xfc, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x1E}},
    {0x39, 0x00, 0x06, {0xc5, 0x09, 0x10, 0xb4, 0x24, 0xfb}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    {0x39, 0x00, 0x03, {0xfc, 0xa5, 0xa5}},
    /* OSC Spread Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x03, {0xfc, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x37}},
    /* FFC Setting; 0x04 : Disable */
    {0x39, 0x00, 0x06, {0xc5, 0x04, 0xff, 0x00, 0x01, 0x64}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    {0x39, 0x00, 0x03, {0xfc, 0xa5, 0xa5}},
    /* Dither IP Setting */
    {0x39, 0x00, 0x03, {0xFC, 0x5A, 0x5A}},
    {0x15, 0x00, 0x02, {0xb0, 0x86}},
    {0x15, 0x00, 0x02, {0xeb, 0x01}},
    {0x39, 0x00, 0x03, {0xFC, 0xa5, 0xa5}},
    /* 5 Brightness Control */
    /* 5.1 Dimming Setting */
    {0x39, 0x10, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x10, 0x02, {0xb0, 0x05}},
    {0x15, 0x10, 0x02, {0xb1, 0x01}},
    {0x15, 0x10, 0x02, {0xb0, 0x02}},
    {0x15, 0x10, 0x02, {0xb5, 0xd3}},
    {0x15, 0x10, 0x02, {0x53, 0x20}},
    {0x39, 0x10, 0x03, {0xf0, 0xa5, 0xa5}},
    {0x39, 0x10, 0x03, {0x51, 0x02, 0xff}},
    {0x05, 0x32, 0x01, {0x29}},
};

const static struct rockchip_cmd cmd_off[] =
{
    /* Display off */
    {0x05, 0x14, 0x01, {28}},
    /* Sleep In */
    {0x05, 0x00, 0x01, {10}},
    /* VCI stabilization setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x05}},
    {0x15, 0x00, 0x02, {0xf4, 0x01}},
    {0x39, 0xa0, 0x03, {0xf0, 0xa5, 0xa5}},
};

const static struct rockchip_cmd cmd_aod_on[] =
{
    /* DSI Lp1 Command */
    /* Aod On */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0x53, 0x23}},
    {0x15, 0x00, 0x02, {0xb0, 0xa5}},
    {0x15, 0x01, 0x02, {0xc7, 0x00}},
    /* FD Setting */
    {0x15, 0x00, 0x02, {0xb0, 0x03}},
    {0x15, 0x01, 0x02, {0xcd, 0x08}},
    {0x39, 0x3c, 0x03, {0xf0, 0xa5, 0xa5}},
    /* Seed CRC mode enable */
    {0x39, 0x00, 0x02, {0x81, 0x90}},
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x02, {0xb0, 0x02}},
    {0x39, 0x00, 0x16, {0xb1, 0xe0, 0x03, 0x00, 0x0e, 0xf0, 0x02, 0x05, 0x0a, 0xff, 0x18, 0xfe, 0xe0, 0xff, 0x0c, 0xec, 0xf8, 0xf4, 0x02, 0xff, 0xff, 0xff}},
    /* CRC LUT */
    {0x39, 0x00, 0x03, {0xb1, 0x00, 0x00}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* Seed Tcs On */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x02, {0xb0, 0x23}},
    {0x39, 0x00, 0x02, {0xb3, 0x91}},
    {0x39, 0x00, 0x02, {0x83, 0x80}},
    {0x39, 0x00, 0x03, {0xb3, 0x00, 0xc0}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
};

const static struct rockchip_cmd cmd_aod_off[] =
{
    /* DSI Nolp Command */
    {0x39, 0x00, 0x03, {0x9f, 0xa5, 0xa5}},
    /* FD Setting */
    {0x15, 0x00, 0x02, {0xb0, 0x03}},
    {0x15, 0x00, 0x02, {0xcd, 0x04}},
    {0x39, 0x00, 0x02, {0x53, 0x28}},
    /* TE vsync ON */
    {0x15, 0x00, 0x02, {0x35, 0x00}},
    {0x39, 0x00, 0x03, {0x9f, 0x5a, 0x5a}},
    /* MIC Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x08, {0xeb, 0x17, 0x41, 0x92, 0x0e, 0x10, 0x82, 0x5a}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* CASET/PASET Setting */
    {0x39, 0x00, 0x05, {0x2a, 0x00, 0x00, 0x05, 0x9f}},
    {0x39, 0x00, 0x05, {0x2b, 0x00, 0x00, 0x0c, 0x2f}},
    /* TSP H_sync Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x09}},
    {0x39, 0x00, 0x03, {0xe8, 0x10, 0x30}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* ESD Setting */
    {0x39, 0x00, 0x03, {0xfc, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x01}},
    {0x15, 0x00, 0x02, {0xe3, 0x88}},
    {0x15, 0x00, 0x02, {0xb0, 0x07}},
    {0x15, 0x00, 0x02, {0xed, 0x67}},
    {0x39, 0x00, 0x03, {0xfc, 0xa5, 0xa5}},
    /* Backlight Dimming Setting */
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0x08}},
    {0x15, 0x00, 0x02, {0xb7, 0x12}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    {0x39, 0x00, 0x03, {0xbd, 0x00, 0x02}},
    {0x15, 0x00, 0x02, {0x53, 0x20}},
    /* ACL off */
    {0x15, 0x00, 0x02, {0x55, 0x00}},
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x15, 0x00, 0x02, {0xb0, 0xde}},
    {0x15, 0x00, 0x02, {0xb9, 0x00}},
    {0x39, 0x00, 0x03, {0xf0, 0xa5, 0xa5}},
    /* PANEL ON*/
    {0x39, 0x00, 0x03, {0x9f, 0xa5, 0xa5}},
    {0x05, 0x00, 0x01, {0x13}},
    {0x05, 0x00, 0x01, {0x29}},
    {0x39, 0x00, 0x03, {0x9f, 0x5a, 0x5a}},
    /* DSI Seed 0 Command */
    /* Seed CRC mode enable */
    {0x39, 0x00, 0x02, {0x81, 0x90}},
    {0x39, 0x00, 0x03, {0xf0, 0x5a, 0x5a}},
    {0x39, 0x00, 0x02, {0xb0, 0x02}},
    {0x39, 0x00, 0x16, {0xb1, 0xe0, 0x03, 0x00, 0x0e, 0xf0, 0x02, 0x05, 0x0a, 0xff, 0x18, 0xfe, 0xe0, 0xff, 0x0c, 0xec, 0xf8, 0xf4, 0x02, 0xff, 0xff, 0xff}},
    /* CRC LUT */
    {0x39, 0x00, 0x03, {0xB1, 0x00, 0x00}},
    {0x39, 0x00, 0x03, {0xF0, 0xA5, 0xA5}},
    /* Seed Tcs On */
    {0x39, 0x00, 0x03, {0xF0, 0x5A, 0x5A}},
    {0x39, 0x00, 0x02, {0xB0, 0x23}},
    {0x39, 0x00, 0x02, {0xB3, 0x91}},
    {0x39, 0x00, 0x02, {0x83, 0x80}},
    {0x39, 0x00, 0x03, {0xB3, 0x00, 0xC0}},
    {0x39, 0x00, 0x03, {0xF0, 0xA5, 0xA5}},
};

#endif /* __S6E3HC2_X1_PANEL_CFG_H__ */
